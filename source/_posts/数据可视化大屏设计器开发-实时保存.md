---
title: æ•°æ®å¯è§†åŒ–å¤§å±è®¾è®¡å™¨å¼€å‘-å®æ—¶ä¿å­˜  
date: 2022-11-23 16:09:00
tags: lowcode react chart 
banner_img: /images/æ•°æ®å¯è§†åŒ–å¤§å±è®¾è®¡å™¨å¼€å‘/background.jpg
index_img: /images/æ•°æ®å¯è§†åŒ–å¤§å±è®¾è®¡å™¨å¼€å‘/background.jpg
categories: 
  - å‰ç«¯  
  - å¤§å±
---

# æ•°æ®å¯è§†åŒ–å¤§å±è®¾è®¡å™¨å¼€å‘-å®æ—¶ä¿å­˜  

## å¼€å¤´  

æœ¬æ–‡æ˜¯æ•°æ®å¯è§†åŒ–å¼€å§‹çš„å¼€å‘ç»†èŠ‚ç¬¬äºŒç« ã€‚å…³äºå¤§å±è®¾è®¡æ—¶ï¼Œæ•°æ®çš„å®æ—¶ä¿å­˜é—®é¢˜ã€‚  
åœ¨æˆ‘ä»¬ä½¿ç”¨åœ¨çº¿`excel`æ—¶å°±ä¼šå‘ç°ï¼Œæ¯ä¸€æ¬¡ä½ çš„æ“ä½œéƒ½æ˜¯ä¼šè¢«ä¿å­˜çš„ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯ï¼Œé¿å…äº†åœ¨ä¿®æ”¹å¤§é‡æ•°æ®ä¹‹åï¼Œä¸å°å¿ƒå…³é—­é¡µé¢æˆ–è€…æ–­ç½‘çš„æƒ…å†µï¼Œå¯¼è‡´ä¿®æ”¹å†…å®¹æ¶ˆå¤±çš„æƒ…å†µå‘ç”Ÿã€‚  

## å¼€å§‹  
å®æ—¶ä¿å­˜ä¹Ÿæœ‰å¾ˆå¤šçš„æ–¹æ¡ˆã€‚  
### ç®€å•æ¥è¯´
ç®€å•æ¥è¯´ï¼Œå¼€å¯ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå®šæ—¶å°†å‰ç«¯çš„æ•°æ®ä¿å­˜åˆ°åå°ï¼Œä½†æ˜¯è¿™æ ·ä¼šé€ æˆèµ„æºçš„æµªè´¹ï¼Œæœ‰æ—¶å€™å¯èƒ½æˆ‘ä»¬å®Œå…¨æ²¡æœ‰å»æ“ä½œï¼Œåªæ˜¯å•çº¯çš„åœ¨é¡µé¢ä¸­åœç•™ï¼Œè¿™æ ·è¿˜å»é¢‘ç¹çš„è°ƒç”¨ä¿å­˜æ¥å£å®Œå…¨æ²¡æœ‰å¿…è¦ã€‚  

### æ”¹è¿›ä¸€ä¸‹  

1. step-1  

  ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘ä»¬åªåœ¨æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰è°ƒç”¨ä¿å­˜æ¥å£ã€‚  
  é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½åšåˆ°ä¸Šé¢çš„æ–¹æ³•å‘¢ï¼Ÿæ¯”å¦‚æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªæ–‡æœ¬æ¡†çš„å†…å®¹ï¼Œä¸å¯èƒ½æ¯è¾“å…¥ä¸€ä¸ªå­—å°±è°ƒä¸€æ¬¡ä¿å­˜ï¼Œè¿™æ ·åè€Œæ›´åŠ é¢‘ç¹è°ƒç”¨æ¥å£ã€‚  
  è¿™æ—¶å€™å°±ä¸åº”è¯¥å»ç›‘å¬è¡¨å•çš„`onChange`äº‹ä»¶ï¼Œè€Œæ˜¯å»ç›‘å¬å®ƒçš„`onBlur`äº‹ä»¶ï¼Œè¿™æ ·å°±è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ã€‚  
```js
  const Form = () => {
    const handleChange = () => {}
    return (
      <input onBlur={handleChange} />
    )
  }
```
  å¦‚ä¸Šè§£å†³äº†è°ƒç”¨é¢‘ç¹çš„é—®é¢˜ã€‚  

2. step-2  

  ä½†æ˜¯åˆå­˜åœ¨äº†æ–°çš„é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬åªç›‘å¬äº†`onBlur`ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨å¤–éƒ¨å—æ§çš„æ–¹æ³•æ¥è®¾ç½®`value`ï¼Œå¯¼è‡´æ•°æ®å›å¡«ä¼šå‡ºç°é—®é¢˜ã€‚  
  æ‰€ä»¥é€‰æ‹©åœ¨**ç»„ä»¶å†…éƒ¨**æ§åˆ¶ä¸€ä»½çŠ¶æ€ï¼ŒåŒæ—¶ç›‘å¬å¤–éƒ¨çŠ¶æ€çš„æ”¹å˜ï¼Œå¦‚æœæ”¹å˜äº†åˆ™å°†å†…éƒ¨çŠ¶æ€ä¸å¤–éƒ¨çŠ¶æ€è¿›è¡ŒåŒæ­¥ã€‚  
```js
  const Form = (props) => {
    const { value, onChange, defaultValue } = props 
    const [ internalState, setInternalState ] = useState(value || defaultValue)

    const handleChange = () => {
      onChange(internalState)
    }

    const onInternalChange = (e) => {
      setInternalState(e.target.value)
    }

    useEffect(() => {
      setInternalState(value)
    }, [value])

    return (
      <input value={internalState} onChange={onInternalChange} onBlur={handleChange} />
    )

  }
```

### ä¼˜åŒ–ä¸€ä¸‹  

  ä¸Šé¢å®Œæˆäº†æ¥å£è°ƒç”¨é¢‘ç¹çš„é—®é¢˜ï¼Œè¿˜å¯ä»¥ç»§ç»­ä¼˜åŒ–ã€‚  
  å› ä¸ºè®¾è®¡å™¨æ‰€è®¾è®¡çš„å¤§å±åŒ…å«å¤§é‡çš„é…ç½®ï¼Œå¦‚æœæ¯ä¸€æ¬¡éƒ½æ˜¯å°†æ‰€æœ‰æ•°æ®ä¸€èµ·åŒæ­¥åˆ°åç«¯ï¼Œè‚¯å®šä¼šè®©æ¥å£çš„è°ƒç”¨é€Ÿåº¦å˜æ…¢ã€‚  
  è€Œä¸”è®¾è®¡é˜¶æ®µï¼Œå¯¹äºä¿å­˜çš„æ“ä½œåˆæ˜¯éå¸¸çš„é¢‘ç¹ï¼Œè¿™æ ·è‚¯å®šä¼šå½±å“ç”¨æˆ·ä½“éªŒã€‚  

  è§£å†³çš„åŠæ³•å°±æ˜¯åªå°†ä¿®æ”¹çš„æ•°æ®ä¿å­˜åˆ°åç«¯ï¼Œè¿™æ ·æ¥å£è¯·æ±‚é€Ÿåº¦ä¸€å®šä¸ä¼šæ…¢ï¼Œè€Œå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿ  
  æˆ‘ä»¬å¯ä»¥é¢„å…ˆå®šä¹‰ä¸€ç³»åˆ—çš„**æ“ä½œç±»å‹**ï¼Œå¯¹æ¯ä¸€ä¸ªæ“ä½œç±»å‹è®¾ç½®ä¸åŒçš„æ“ä½œæ–¹æ³•ï¼Œå› ä¸ºåç«¯å’Œå‰ç«¯çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä¸€ä¸ª`json`ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥åšåˆ°å‰åç«¯åŒæ­¥ã€‚  
  åªæ˜¯å¦‚æœå‰ç«¯å’Œåç«¯åˆ†å¼€ä¸¤å¥—ä»£ç å®ç°åŒä¸€ä¸ªé€»è¾‘ï¼Œé‚£æœ‰ç‚¹å¾—ä¸å¿å¤±ã€‚  
  å½“ç„¶åç«¯æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨`node`æ¥è¿›è¡Œå¼€å‘ï¼Œå®Œæˆç›¸å…³é€»è¾‘ï¼ŒåŒæ—¶å¯¹å¤§å±æ“ä½œçš„æ–¹æ³•å•ç‹¬æŠ½ç¦»æˆä¸€ä¸ª`npm`åŒ…ï¼Œæ¯•ç«Ÿæœ¬èº«å®ƒå¹¶æœ‰ä¾èµ–äºå¤§å±çš„ä»»ä½•ä¸œè¥¿ã€‚  

  æ¯”å¦‚åƒä¸‹é¢è¿™æ ·çš„ä¿å­˜å‚æ•°ä¾‹å­ğŸŒ°ï¼š  
```js
const requestParams = {
  type: 'update', // add delete merge...
  value: {
    id: 'xxxx',
    path: 'xxxx',
    data: {
      path: {
        to: {
          updateData: 'xxxx'
        }
      }
    }
  }
}
```

  å½“æ‹¿åˆ°è¿™ä»½æ•°æ®æ—¶ï¼Œæˆ‘ä»¬åªéœ€ç®€å•çš„ä¸å¤§å±æ•°æ®è¿›è¡Œåˆå¹¶å³å¯ã€‚  

### å®Œå–„ä¸€ä¸‹  

  ä¸Šé¢çš„æ–¹æ³•åŸºæœ¬è¾¾åˆ°äº†å®æ—¶ä¿å­˜çš„è¦æ±‚ï¼Œä½†æ˜¯è¿˜å¯ä»¥è¿›è¡Œå®Œå–„ã€‚  
  å› ä¸ºè®¾è®¡å¤§å±çš„æ—¶å€™ï¼Œç»å¸¸å‘ç”Ÿé¢‘ç¹ä¿®æ”¹é…ç½®çš„æƒ…å†µï¼Œè™½ç„¶åšäº†`onBlur`çš„å¤„ç†ï¼Œä¸è¿‡æœ‰æ—¶å€™è°ƒç”¨çš„é¢‘ç‡è¿˜æ˜¯ä¼šå¾ˆé«˜ï¼Œå¦‚æœåˆåœ¨ç½‘ç»œçŠ¶å†µä¸å¥½çš„ç¯å¢ƒä¸‹ï¼Œé‚£ç»å¸¸å°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚  
  æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„è¯·æ±‚è¿›è¡Œ**åˆå¹¶**ã€‚  

  æœ¬èº«å…¶å®ä¹Ÿåªæ˜¯ä¸€ä¸ªä¸ªä¿®æ”¹å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®è¯·æ±‚æ ¼å¼æ›´æ”¹ä¸º**æ•°ç»„**ï¼Œåç«¯æŒ‰é¡ºåºéå†æ•°ç»„ï¼ŒåŒæ ·å¯ä»¥è¾¾åˆ°ä¿®æ”¹çš„æ•ˆæœã€‚  

```js 
  const requestParamsList = [
    {
      type: 'update', // add delete merge...
      value: {
        id: 'xxxx',
        path: 'xxxx',
        data: {
          path: {
            to: {
              updateData: 'xxxx'
            }
          }
        }
      }
    },
    // ...
  ]
```

  æ¥ç€æˆ‘ä»¬åœ¨å‰ç«¯å¼€å¯ä¸€ä¸ªè¯·æ±‚æ± ï¼Œè¿™é‡Œå‘½åæˆ`REQUEST_POOL`ï¼Œä¸€ä¸ªç­‰å¾…æ± ï¼Œå‘½åä¸º`PENDING_POOL`ã€‚  
  å½“å‘ç”Ÿæ–°çš„ä¿®æ”¹æ—¶ã€‚  
  å…ˆåˆ¤æ–­`PENDING_POOL`æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™ç›´æ¥å°†è¯·æ±‚æ”¾å…¥`REQUEST_POOL`ï¼Œå¦åˆ™æ”¾å…¥`PENDING_POOL`ã€‚  
  å¦‚æœä¸Šè¿°æ”¾å…¥çš„`REQUEST_POOL`ï¼Œå¹¶ä¸”åœ¨çŸ­æ—¶é—´å†…æ²¡æœ‰æ–°è¿›å…¥çš„è¯·æ±‚æˆ–è€…`REQUEST_POOL`**å·²æ»¡**ï¼Œåˆ™å°†`REQUEST_POOL`å†…çš„è¯·æ±‚å‚æ•°åˆå¹¶å‘é€ã€‚  
  `REQUEST_POOL`å®Œæˆè¯·æ±‚åï¼Œç»§ç»­å°†`PENDING_POOL`ä¸­çš„è¯·æ±‚åŠ å…¥åˆ°å…¶ä¸­ï¼Œ`PENDING_POOL`ä¸ºç©ºåˆ™åœæ­¢ã€‚  

> æç¤º  
è¿™ä¸€æ­¥éª¤çš„åŠŸèƒ½ç›®å‰æœªå®ç°åˆ°å¤§å±å½“ä¸­ï¼Œè¿˜åªæ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚  

> ä¸‹ä¸€ä¸ªæç¤º  
å…³äºä¸Šé¢å®æ—¶ä¿å­˜ï¼Œè¿˜æœ‰ä¸€ä¸ªæœ€é‡è¦çš„ç‚¹ï¼šå‘é€è¯·æ±‚åï¼Œåç«¯åº”ç»™äºˆå‰ç«¯æ­£ç¡®ä¸”æ˜ç¡®çš„åé¦ˆï¼Œå‘ŠçŸ¥æ­¤æ¬¡æ›´æ–°å·²ç»å®Œæˆï¼Œå¦åˆ™ä¼šå‘ç”Ÿå‰åç«¯å­˜å‚¨æ•°æ®ä¸åŒæ­¥çš„æƒ…å†µã€‚  

## ç»“æŸ  

  ç»“æŸğŸ”šã€‚  

  é¡ºä¾¿åœ¨ä¸‹é¢é™„ä¸Šç›¸å…³çš„é“¾æ¥ã€‚  
> [è¯•ç”¨åœ°å€](http://47.97.27.23/api/backend/screen/index.html)  
[è¯•ç”¨è´¦å·](https://github.com/food-billboard/create-chart/issues/2)  
[æ“ä½œæ–‡æ¡£](http://47.97.27.23/api/backend/create-chart-docs/index.html)  
[ä»£ç åœ°å€](https://github.com/food-billboard/create-chart)   