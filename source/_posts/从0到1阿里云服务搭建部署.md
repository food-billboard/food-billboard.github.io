---
title: 从0到1完成阿里云node服务搭建部署
date: 2021-10-30 20:18:00
tags: deploy node 
banner_img: /images/从0到1阿里云服务搭建部署/background.jpeg
index_img: /images/从0到1阿里云服务搭建部署/background.jpeg
categories: 
  - 部署
  - 服务器
  - 前端  
  - 后端  
---

## 从0到1完成阿里云node服务搭建部署   

## 介绍  
前段时间自己根据网上的教程捣鼓了一下自己的服务器，终于把自己的`node`服务部署到了阿里云。所以在这里把自己的一些经验分享给各位，希望能对大家有帮助ღ( ´･ᴗ･` )比心。  
1. 先介绍一下这次部署用到的一些东西，免得浪费各位的时间✅ 。 
- 首先本人是一个前端，所以这次的服务端语言用的是`node`框架[koa](https://koajs.com/)   
- `node`生产环境自然离不开[pm2](https://pm2.keymetrics.io/)，本次远程部署也用到了它  
- 数据库用的[mongodb](https://docs.mongodb.com/)以及它的`orm`[mongoose](http://www.mongoosejs.net/)  
- 缓存用的`redis`，这个用到的地方不是很多。  
- `nginx`做代理  
- 将上面的数据库、缓存、`nginx`等做容器化使用`docker`，并使用`docker-compose`做统一管理。  
- ci/ci 用的`github actions`，两个字，香！！（之前用的`travis`，但是后来得知它居然开始收费了，那没事了，白嫖怪不可能多花一分钱的）  

2. 当前还有部分未完成的内容❎    
- 消息队列控制`rabbitmq`  
- 视频细化处理`ffmpeg`  

## 正文  

1. 服务端依赖安装  
首先是服务器上相关的依赖安装：`node`和`docker`以及`docker-compose`  
- node  
安装`node`可以参考这边[文章](https://www.jianshu.com/p/2e31fd9eb048)的内容  
- docker  
安装`docker`可以参考[这个](https://www.runoob.com/docker/ubuntu-docker-install.html)  
- docker-compose  
安装`docker-compose`可以参考[这个](https://www.runoob.com/docker/ubuntu-docker-install.html)  

2. github actions  
关于代码集成部署方面，本项目使用了`github actions`，如果有不了解的话，可以参考[阮一峰](http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html)的文章。  
这里关于它对于服务器的一些配置问题，本人在之前的一篇文章中有详细描述，可以参看[那篇文章](https://food-billboard.github.io/2021/10/25/deploy/)来进行配置。

3. docker docker-compose 

4. pm2 

## 结束  
这就是本次我在搭建部署阿里云服务器中总结的一些经验和教训，如有错误的话请指正，希望对各位有帮助。  
完整的项目配置可以到[这里](https://github.com/food-billboard/node-server)查看。