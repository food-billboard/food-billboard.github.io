---
title: ä½¿ç”¨puppeteerçˆ¬å–æ¼«ç”»
date: 2023-09-12 11:23:00
tags: backend node puppeteer
banner_img: /images/ä½¿ç”¨puppeteerçˆ¬å–æ¼«ç”»/background.jpg
index_img: /images/ä½¿ç”¨puppeteerçˆ¬å–æ¼«ç”»/background.jpg
categories: 
  - åç«¯  
---

## ä½¿ç”¨puppeteerçˆ¬å–æ¼«ç”»

## ä»‹ç»
å‰å‡ å¤©çœ‹åˆ°é¾™ç è¶…-æ¬¡å…ƒä¹±æˆ˜çš„æ¼«ç”»ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œå¥ˆä½•ä¸€ä¸‹å­æ²¡æœ‰æ‰¾åˆ°èµ„æºã€‚  
ä½†æ˜¯çœ‹åˆ°äº†åœ¨çº¿ç‰ˆæœ¬çš„ï¼Œè¿™é‡Œå°±æƒ³åˆ°ç›´æ¥å°†èµ„æºä¸‹è½½ä¸‹æ¥çœ‹ï¼Œé‚£ä¸æ˜¯æ›´æ–¹ä¾¿å—ğŸ˜Šã€‚  

## æ­£æ–‡  

### å·¥å…·   
æœ¬æ¬¡ä½¿ç”¨çš„å·¥å…·æœ‰ 
- [axios](https://www.axios-http.cn/)  
  è¿™ä¸ªåº”è¯¥ä¸ç”¨å¤šä»‹ç»äº†ï¼Œåœ¨è¿™é‡Œçš„ä½¿ç”¨ç›®çš„æ˜¯è¿›è¡Œæ–‡ä»¶çš„ä¸‹è½½ã€‚  
- [puppeteer](https://pptr.dev/)  
  `puppeteer`æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿæµè§ˆå™¨çš„è¿è¡Œå·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–çš„åšä¸€äº›ç”¨æˆ·æ“ä½œã€‚  

### æµç¨‹  
è¿™é‡Œç®€å•è®²ä¸€ä¸‹å…·ä½“çš„æµç¨‹ã€‚  

1. è¿›å…¥æ¼«ç”»çš„ç›®å½•é¦–é¡µï¼Œè·å–æ¼«ç”»çš„ç« èŠ‚æ•°é‡åŠå…·ä½“è·¯ç”±    
2. å¾ªç¯è¿›å…¥ç›¸å…³ç« èŠ‚çš„è·¯ç”±  
3. è·å–å½“å‰ç« èŠ‚çš„åˆ†é¡µæ•°é‡   
4. ä¸‹è½½æŒ‡å®šç« èŠ‚ä¸­çš„æ¼«ç”»èµ„æºï¼ˆä¹Ÿå°±æ˜¯ä¸€å¼ å›¾ç‰‡ï¼‰  
5. ç‚¹å‡»ä¸‹ä¸€é¡µè¿›å…¥å½“å‰ç« èŠ‚çš„ä¹Ÿä¸€å¼ å›¾ç‰‡  
6. å®Œæˆæ‰€æœ‰ä¸‹è½½åï¼Œå°†å›¾ç‰‡åˆå¹¶ä¸º`pdf`   

### ä¼˜åŒ–  

- ä¸Šé¢çš„æ–‡ä»¶ä¸‹è½½éš¾å…ä¼šå‡ºç°å¤±è´¥çš„æƒ…å†µï¼Œå¯ä»¥é€‚å½“è¿›è¡Œé‡è¯•çš„è®¾ç½®  
- å¤šæ¬¡æ‰§è¡Œè„šæœ¬ä¸åº”è¯¥é‡å¤ä¸‹è½½å·²ä¸‹è½½çš„èµ„æºï¼Œå¯ä»¥åœ¨ä¸‹è½½å‰å¯¹æœ¬åœ°æ–‡ä»¶è¿›è¡Œæ£€ç´¢  

### å…·ä½“å®ç°  

[ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹å…·ä½“ä»£ç å®ç°](https://github.com/food-billboard/food-billboard.github.io/tree/hexo/source/images/ä½¿ç”¨puppeteerçˆ¬å–æ¼«ç”»/project)

### ç¢°åˆ°çš„é—®é¢˜   

#### npm i puppeteer å¤±è´¥  

ä¸‹è½½puppeteerä¼šè‡ªåŠ¨ä¸‹è½½`chromium`æµè§ˆå™¨ï¼Œè¿™ä¸ªæµè§ˆå™¨æœ‰`100-200MB`ï¼Œç»å¸¸ä¼šå‡ºç°å¤±è´¥çš„æƒ…å†µã€‚  
æˆ‘ä»¬å¯ä»¥å…ˆæ‰§è¡Œ`export PUPPETEER_SKIP_DOWNLOAD='true'`æ¥è·³è¿‡ä¸‹è½½ã€‚  
æ¥ç€åœ¨é¡¹ç›®ç›®å½•ä¸‹é¢æ‰§è¡Œ`node node_modules/puppeteer/install.js`æ¥ä¸‹è½½ã€‚  

#### Failed to launch the browser process!  

(Chrome is downloaded but fails to launch on Node.js 14)[https://pptr.dev/troubleshooting#chrome-is-downloaded-but-fails-to-launch-on-nodejs-14]  

## ç»“æŸ  
åšä¸ªç®€å•è®°å½•ğŸ˜Š   
> å‚è€ƒ  
> [äº‘å‡½æ•°ï¼ˆnodejsï¼‰ä¸­Bufferã€ArrayBufferã€DataViewäº’ç›¸è½¬åŒ–](https://codeleading.com/article/44573498917/)  