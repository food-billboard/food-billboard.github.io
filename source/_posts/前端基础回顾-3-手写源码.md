---
title: 前端基础回顾-2-手写源码
date: 2023-02-15 14:21:00
tags: basic   
banner_img: /images/前端基础回顾/background.jpeg
index_img: /images/前端基础回顾/background.jpeg
categories: 
  - 面试
---

这是前端基础回顾的第三篇，记录一下一些手写源码的例子。  

## 开始

### 深拷贝  
```js
  function deepClone(object, map=new Map()) {
    if(typeof object !== 'object') {
      return object 
    }
    if(map.get(object)) return map.get(object)
    let result = {}
    if(Object.prototype.toString.call(object) === '[object Array]') {
      result = []
    }

    map.set(object, result)

    for(objectKey in object) {
      if(object.hasOwnProperty(objectKey)) {
        result[objectKey] = deepClone(object[objectKey])
      }
    }
    return result 
  }
```

### 0.1 + 0.2 === 0.3  
```js
function isNumberEqual(number1, number2) {
  return Math.abs(number1 - number2) < Math.EPSILON
}
```

### call、apply、bind  
```js
  // call 
  Function.prototype.myCall = function(context) {
    if(typeof this !== 'function') {
      throw new Error('is not a function')
    }
    const symbol = Symbol()
    const args = [...arguments].slice(1)
    context = context || window 
    context[symbol] = this  
    const result = context[symbol](...args)
    delete context[symbol] 
    return result 
  }

  // apply 
  Function.prototype.myApply = function(context) {
    if(typeof this !== 'function') {
      throw new Error('is not a function')
    }
    const symbol = Symbol()
    let args = [...arguments][1]
    args = Array.isArray(args) ? args : [] 
    context = context || window 
    context[symbol] = this 
    const result = context[symbol](...args)
    delete context[symbol] 
    return result 
  }

  // bind 
  Function.prototype.myBind = function(context) {
    if(typeof this !== 'function') {
      throw new Error('is not a function')
    }
    const args = [...arguments].slice(1)
    context = context || window 
    function fn() {
      const realArgs = [...args, ...arguments]
      return this.call(this instanceOf fn ? this : context, ...realArgs)
    }
    return fn 
  }

```

### new  
```js 
  function myNew(context) {
    const obj = Object.create(null)
    obj.__proto__ = context.prototype 
    const result = context.apply(obj, [...arguments].slice(1))
    return typeof result === 'object' ? result : obj  
  }
```

### 防抖和节流  
```js 
  // 节流
  function throttle(func, options={}) {
    const { wait=100 } = options 
    let done = true 
    return function(...args) {
      if(!done) return 
      done = false 
      setTimeout(() => {
        func(...args)
        done = false 
      }, wait)
    }
  }

  // 防抖  
  function debounce(func, options={}) {
    const { wait=100 } = options 
    let timeout 
    let done = true 
    return function(...args) {
      if(!done) clearTimeout(timeout)
      done = false 
      timeout = setTimeout(() => {
        func(...args)
        done = true 
      }, wait)
    }
  }
```

### 柯里化函数  

### Promise  

### Promise.all Promise.allSettled Promise.any Promise.race Promise.once 
```js  
  Promise.prototype.myAll = function() {
    
  }
```

### reduce map forEach some every  

## 结束  

  结束🔚。  

  > 参考资料
  [从URL输入到页面展现到底发生什么？](https://juejin.cn/post/6844903784229896199)  
  
